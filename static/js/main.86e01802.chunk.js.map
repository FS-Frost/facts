{"version":3,"sources":["FactsClient.ts","Facts.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["getRandomFact","_x","_getRandomFact","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","language","url","wrap","_context","prev","next","concat","URL_RANDOM_FACT","abrupt","getFact","stop","getTodayFact","_x2","_getTodayFact","_callee2","_context2","URL_TODAY_FACT","_x3","_getFact","_callee3","apiResponse","body","clientResponse","_context3","fetch","sent","text","status","json","ok","console","error","JSON","parse","Facts","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","shouldShowJson","setShouldShowJson","_useState5","_useState6","fact","setFact","_useState7","_useState8","setLanguage","_useState9","_useState10","rawResponse","setRawResponse","_useState11","_useState12","factUrl","setFactUrl","showLoading","msg","hideLoading","useCallback","f","_ref","response","cameraStream","video","handleResponse","navigator","mediaDevices","getUserMedia","audio","facingMode","width","ideal","height","document","querySelector","srcObject","stringify","time","Date","toLocaleTimeString","permalink","useEffect","onMount","_ref2","_jsxs","className","children","_jsx","autoPlay","playsInline","muted","value","readOnly","onClick","disabled","htmlFor","name","onChange","e","target","type","checked","href","rel","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.86e01802.chunk.js","sourcesContent":["export async function getRandomFact(language: string): Promise<FactClientResponse> {\n    const url = `${URL_RANDOM_FACT}?language=${language}`;\n    return getFact(url);\n}\n\nexport async function getTodayFact(language: string): Promise<FactClientResponse> {\n    const url = `${URL_TODAY_FACT}?language=${language}`;\n    return getFact(url);\n}\n\nconst URL_RANDOM_FACT = \"https://uselessfacts.jsph.pl/random.json\";\nconst URL_TODAY_FACT = \"https://uselessfacts.jsph.pl/today.json\";\n\nasync function getFact(url: string): Promise<FactClientResponse> {\n    const apiResponse = await fetch(url);\n    const body = await apiResponse.text();\n\n    let clientResponse: FactClientResponse = {\n        status: apiResponse.status,\n        json: null,\n    };\n\n    if (!apiResponse.ok) {\n        console.error(body);\n        return clientResponse;\n    }\n\n    clientResponse.json = JSON.parse(body) as FactResponse;\n    return clientResponse;\n}\n\ninterface FactResponse {\n    id: string;\n    text: string;\n    source: string;\n    source_url: string;\n    language: string;\n    permalink: string;\n}\n\nexport interface FactClientResponse {\n    status: number;\n    json: FactResponse | null;\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport \"./Facts.css\";\nimport { FactClientResponse, getRandomFact, getTodayFact } from \"./FactsClient\";\n\nfunction Facts() {\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n    const [shouldShowJson, setShouldShowJson] = useState<boolean>(false);\n    const [fact, setFact] = useState<string>(\"\");\n    const [language, setLanguage] = useState<string>(\"en\");\n    const [rawResponse, setRawResponse] = useState<string>(\"\");\n    const [factUrl, setFactUrl] = useState<string>(\"https://uselessfacts.jsph.pl\");\n\n    const showLoading = () => {\n        setIsLoading(true);\n        const msg = \"Loading...\";\n        setFact(msg);\n        setRawResponse(msg);\n    };\n\n    const hideLoading = () => {\n        setIsLoading(false);\n    };\n\n    const getFact = useCallback(() => {\n        const f = async () => {\n            showLoading();\n            const response = await getRandomFact(language);\n            handleResponse(response);\n            hideLoading();\n\n            const cameraStream = await navigator.mediaDevices.getUserMedia({\n                audio: false,\n                video: {\n                    facingMode: \"environment\",\n                    width: { ideal: 1920 },\n                    height: { ideal: 1080 },\n                },\n            });\n\n            let video = document.querySelector(\"video\");\n            if (video == null) {\n                return;\n            }\n\n            video.srcObject = cameraStream;\n        };\n\n        f();\n    }, [language]);\n\n    const handleResponse = (response: FactClientResponse | undefined) => {\n        if (response == null) {\n            return;\n        }\n\n        setRawResponse(JSON.stringify(response, null, 2));\n\n        if (response.status === 429) {\n            const time = new Date().toLocaleTimeString();\n            setFact(`(${time}) Too many attempts! Try again later :)`);\n            setFactUrl(\"\");\n            return;\n        }\n\n        if (response.json == null) {\n            setFact(\"Ups, try again.\");\n            setFactUrl(\"\");\n            return;\n        }\n\n        setFact(response.json.text);\n        setFactUrl(response.json.permalink);\n    };\n\n    const toggleDebugMode = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setShouldShowJson(e.target.checked);\n    };\n\n    useEffect(() => {\n        const onMount = async () => {\n            showLoading();\n            const response = await getTodayFact(\"en\");\n            handleResponse(response);\n            hideLoading();\n        };\n\n        onMount();\n    }, []);\n\n    useEffect(() => {\n        getFact();\n    }, [getFact]);\n\n    return (\n        <div className=\"Facts\">\n            <video autoPlay playsInline muted />\n            <div className=\"col mb-3 facts-search\">\n                <textarea className=\"form-control fact\" value={shouldShowJson ? rawResponse : fact} readOnly />\n            </div>\n\n            <div className=\"col mb-3 search\">\n                <button\n                    className=\"btn btn-primary w-100\"\n                    onClick={() => {\n                        getFact();\n                    }}\n                    disabled={isLoading}\n                >\n                    Next\n                </button>\n            </div>\n\n            <div className=\"input-group mb-3 w-100\">\n                <label className=\"input-group-text\" htmlFor=\"languages\">\n                    Language:{\" \"}\n                </label>\n                <select\n                    name=\"languages\"\n                    className=\"form-select\"\n                    onChange={(e) => {\n                        setLanguage(e.target.value);\n                    }}\n                >\n                    <option value=\"en\">English</option>\n                    <option value=\"de\">German</option>\n                    {/* <option value=\"random\">Surprise me</option> */}\n                </select>\n            </div>\n\n            <div className=\"input-group-text mb-3 facts-debug\">\n                <div className=\"input-group me-1 w-auto\">\n                    <input className=\"form-check-input\" type=\"checkbox\" checked={shouldShowJson} onChange={toggleDebugMode} />\n                </div>\n                <label className=\"form-check-label\">Debug mode</label>\n            </div>\n\n            <div className=\"col facts-links\">\n                <p className=\"w-100\">\n                    Fact URL:{\" \"}\n                    <a href={factUrl} target=\"_blank\" rel=\"noreferrer\">\n                        {factUrl}\n                    </a>\n                </p>\n            </div>\n        </div>\n    );\n}\n\nexport default Facts;\n","import React from \"react\";\nimport \"./App.css\";\nimport Facts from \"./Facts\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <h1 className=\"mb-3 text-center\">Random Facts</h1>\n\n            <Facts></Facts>\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}