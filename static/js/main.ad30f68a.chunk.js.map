{"version":3,"sources":["FactsClient.ts","Facts.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["getRandomFact","language","a","url","URL_RANDOM_FACT","getFact","getTodayFact","URL_TODAY_FACT","fetch","apiResponse","text","body","clientResponse","status","json","ok","console","error","JSON","parse","Facts","useState","isLoading","setIsLoading","shouldShowJson","setShouldShowJson","fact","setFact","setLanguage","rawResponse","setRawResponse","factUrl","setFactUrl","repoUrl","response","handleResponse","onMount","useCallback","stringify","time","Date","toLocaleTimeString","permalink","useEffect","className","value","readOnly","onClick","disabled","htmlFor","name","onChange","e","target","type","checked","href","rel","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad30f68a.chunk.js","sourcesContent":["export async function getRandomFact(language: string): Promise<FactClientResponse> {\n    const url = `${URL_RANDOM_FACT}?language=${language}`;\n    return getFact(url);\n}\n\nexport async function getTodayFact(language: string): Promise<FactClientResponse> {\n    const url = `${URL_TODAY_FACT}?language=${language}`;\n    return getFact(url);\n}\n\nconst URL_RANDOM_FACT = \"https://uselessfacts.jsph.pl/random.json\";\nconst URL_TODAY_FACT = \"https://uselessfacts.jsph.pl/today.json\";\n\nasync function getFact(url: string): Promise<FactClientResponse> {\n    const apiResponse = await fetch(url);\n    const body = await apiResponse.text();\n\n    let clientResponse: FactClientResponse = {\n        status: apiResponse.status,\n        json: null,\n    };\n\n    if (!apiResponse.ok) {\n        console.error(body);\n        return clientResponse;\n    }\n\n    clientResponse.json = JSON.parse(body) as FactResponse;\n    return clientResponse;\n}\n\ninterface FactResponse {\n    id: string;\n    text: string;\n    source: string;\n    source_url: string;\n    language: string;\n    permalink: string;\n}\n\nexport interface FactClientResponse {\n    status: number;\n    json: FactResponse | null;\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport \"./Facts.css\";\nimport { FactClientResponse, getRandomFact, getTodayFact } from \"./FactsClient\";\n\nfunction Facts() {\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n    const [shouldShowJson, setShouldShowJson] = useState<boolean>(false);\n    const [fact, setFact] = useState<string>(\"\");\n    const [language, setLanguage] = useState<string>(\"en\");\n    const [rawResponse, setRawResponse] = useState<string>(\"\");\n    const [factUrl, setFactUrl] = useState<string>(\"https://uselessfacts.jsph.pl\");\n    const repoUrl = \"https://github.com/FS-Frost/facts\";\n\n    const getFact = async () => {\n        setIsLoading(true);\n        setFact(\"Loading...\");\n        const response = await getRandomFact(language);\n        handleResponse(response);\n        setIsLoading(false);\n    };\n\n    const onMount = useCallback(async () => {\n        setIsLoading(true);\n        setFact(\"Loading...\");\n        const response = await getTodayFact(\"en\");\n        handleResponse(response);\n        setIsLoading(false);\n    }, []);\n\n    const handleResponse = (response: FactClientResponse | undefined) => {\n        if (response == null) {\n            return;\n        }\n\n        setRawResponse(JSON.stringify(response, null, 2));\n\n        if (response.status === 429) {\n            const time = new Date().toLocaleTimeString();\n            setFact(`(${time}) Too many attempts! Try again later :)`);\n            setFactUrl(\"\");\n            return;\n        }\n\n        if (response.json == null) {\n            setFact(\"Ups, try again.\");\n            setFactUrl(\"\");\n            return;\n        }\n\n        setFact(response.json.text);\n        setFactUrl(response.json.permalink);\n    };\n\n    const toggleDebugMode = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setShouldShowJson(e.target.checked);\n    };\n\n    useEffect(() => {\n        onMount();\n    }, [onMount]);\n\n    useEffect(() => {\n        getFact();\n    }, [language]);\n\n    return (\n        <div className=\"Facts\">\n            <div className=\"facts-search\">\n                {shouldShowJson ? <textarea value={rawResponse} readOnly /> : <p>{fact}</p>}\n                <br />\n                <button\n                    className=\"btn-search\"\n                    onClick={() => {\n                        getFact();\n                    }}\n                    disabled={isLoading}\n                >\n                    Search fact\n                </button>\n            </div>\n\n            <div>\n                <label htmlFor=\"languages\">Language: </label>\n                <select\n                    name=\"languages\"\n                    onChange={(e) => {\n                        setLanguage(e.target.value);\n                    }}\n                >\n                    <option value=\"en\">English</option>\n                    <option value=\"de\">German</option>\n                    {/* <option value=\"random\">Surprise me</option> */}\n                </select>\n            </div>\n\n            <div className=\"facts-debug\">\n                <label>Debug mode</label>\n                <input type=\"checkbox\" checked={shouldShowJson} onChange={toggleDebugMode} />\n            </div>\n\n            <div className=\"facts-links\">\n                <p>\n                    Fact URL:{\" \"}\n                    <a href={factUrl} target=\"_blank\" rel=\"noreferrer\">\n                        {factUrl}\n                    </a>\n                </p>\n\n                <p>\n                    Source code:{\" \"}\n                    <a href={repoUrl} target=\"_blank\" rel=\"noreferrer\">\n                        {repoUrl}\n                    </a>\n                </p>\n            </div>\n        </div>\n    );\n}\n\nexport default Facts;\n","import React from \"react\";\nimport \"./App.css\";\nimport Facts from \"./Facts\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <Facts></Facts>\n            </header>\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}